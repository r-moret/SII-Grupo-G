<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous"/>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
		
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"/>
		<script type="text/javascript" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"/>
		<script type="text/javascript" src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap5.min.js"/>
		<script type="text/javascript" src="./scripts/pagination.js"/>
		
		<title>Secretaría</title>
	</h:head>
	
	<h:body class="bg-image vh-100 d-flex flex-column" style="background-image: url('./images/background-etsii.png')">
		
		<header> 
			<nav class="navbar navbar-expand-lg transparent">
				<div class="container-fluid">
	    			<a class="nav-link" style="color: white; font-weight: bold;" href="welcome.xhtml">Inicio</a>
	  			</div>
			</nav>
			
			<div class="row m-0">
				<div class="col"></div>
				<div class="col-8">
					<div class="row m-0">
						<div class="d-flex mb-3 justify-content-center">
							<h1 class="text-light">Universidad de Málaga</h1>
						</div>
					</div>
				</div>
				<div class="col"></div>
			</div>
		</header>
		
		<div class="container">
			<div class="row m-0">
				<div class="col p-0"></div>
				<div class="col-12 py-3 rounded bg-light">
					<div class="row m-0">
						<div class="d-flex mb-3 justify-content-center">
							<h3>Portal Secretaría</h3>
						</div>
					</div>
					
					<div class="row m-3">
						<ul class="nav nav-tabs" id="myTab" role="tablist">
						  	<li class="nav-item" role="presentation">
						    	<button class="nav-link active" id="matriculas-tab" data-bs-toggle="tab" data-bs-target="#matriculas" type="button" role="tab" aria-controls="matriculas" aria-selected="true">Matrículas</button>
						  	</li>
						  	<li class="nav-item" role="presentation">
						    	<button class="nav-link" id="grupos-tab" data-bs-toggle="tab" data-bs-target="#grupos" type="button" role="tab" aria-controls="grupos" aria-selected="false">Grupos</button>
						  	</li>
						  	<li class="nav-item" role="presentation">
						    	<button class="nav-link" id="expedientes-tab" data-bs-toggle="tab" data-bs-target="#expedientes" type="button" role="tab" aria-controls="expedientes" aria-selected="false">Expedientes</button>
						  	</li>
						  	<li class="nav-item" role="presentation">
						    	<button class="nav-link" id="alumnos-tab" data-bs-toggle="tab" data-bs-target="#alumnos" type="button" role="tab" aria-controls="alumnos" aria-selected="false">Alumnos</button>
						  	</li>
						  	<li class="nav-item" role="presentation">
						    	<button class="nav-link" id="asignaturas-tab" data-bs-toggle="tab" data-bs-target="#asignaturas" type="button" role="tab" aria-controls="asignaturas" aria-selected="false">Asignaturas</button>
						  	</li>
						</ul>
						<div class="tab-content px-0" id="myTabContent">
						  	<div class="tab-pane fade show mt-3 active" id="matriculas" role="tabpanel" aria-labelledby="matriculas-tab">
						  		<h:dataTable id="matriculas-table" class="table table-striped" headerClass="text-center" columnClasses="text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center" value="#{managing.matriculas}" var="matricula">				   
								   	<h:column>
								      	<f:facet name = "header">Expediente</f:facet>
								      	<h:outputText value="#{matricula.expediente.numExpediente}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Núm. archivo</f:facet>
								      	<h:outputText value="#{matricula.numArchivo}"/>
								   	</h:column>
								   	
								   	<h:column>    				
								    	<f:facet name = "header">Curso</f:facet>    				
								      	<h:outputText value="#{matricula.cursoAcademico}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Fecha matriculación</f:facet>
								      	<h:outputText value="#{matricula.fechaMatricula}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Estado</f:facet>
								      	<h:outputText class="fa fa-check fa-lg" rendered="#{matricula.estado}"/>
								      	<h:outputText class="fa fa-times fa-lg" rendered="#{not matricula.estado}"/>
								   	</h:column>								   
								   	
								   	<h:column>
								      	<f:facet name = "header">Nuevo ingreso</f:facet>
								      	<h:outputText class="fa fa-check fa-lg" rendered="#{matricula.nuevoIngreso}"/>
								      	<h:outputText class="fa fa-times fa-lg" rendered="#{not matricula.nuevoIngreso}"/>
								   	</h:column>								   									   
								   	
								   	<h:column>
								      	<f:facet name = "header">Turno</f:facet>
								      	<h:outputText value="#{matricula.turnoPreferente}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Ver matrícula</f:facet>
								      	<h:form>
								      		<h:commandLink class="me-1" id="inspect-matricula-button" action="#{inspectMatricula.inspect(matricula)}">
									      		<span class="fa fa-search fa-lg" aria-hidden="true"/>
								      		</h:commandLink>
								      	</h:form>
								   	</h:column>
								</h:dataTable>
						  	</div>
						  	<div class="tab-pane fade mt-3" id="grupos" role="tabpanel" aria-labelledby="grupos-tab">
						 		<h:dataTable id="grupos-table" class="table table-striped" headerClass="text-center" columnClasses="text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center" value="#{managing.grupos}" var="grupo">				   
								   	<h:column>
								      	<f:facet name = "header">Curso</f:facet>
								      	<h:outputText value="#{grupo.curso}"/>
								   	</h:column>
								   	
								   	<h:column>    				
								    	<f:facet name = "header">Letra</f:facet>    				
								      	<h:outputText value="#{grupo.letra}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Turno</f:facet>
								      	<h:outputText value="#{grupo.turno}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Ingles</f:facet>
								      	<h:outputText class="fa fa-check fa-lg" rendered="#{grupo.ingles}"/>
								      	<h:outputText class="fa fa-times fa-lg" rendered="#{not grupo.ingles}"/>
								   	</h:column>								   
								   	
								   	<h:column>
								      	<f:facet name = "header">Visible</f:facet>
								      	<h:outputText class="fa fa-check fa-lg" rendered="#{grupo.visible}"/>
								      	<h:outputText class="fa fa-times fa-lg" rendered="#{not grupo.visible}"/>
								   	</h:column>								   									   
								   	
								   	<h:column>
								      	<f:facet name = "header">Asignar</f:facet>
								      	<h:outputText class="fa fa-check fa-lg" rendered="#{grupo.asignar}"/>
								      	<h:outputText class="fa fa-times fa-lg" rendered="#{not grupo.asignar}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Plazas</f:facet>
								      	<h:outputText value="#{grupo.plazas}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Ver grupo</f:facet>
								      	<h:form>
								      		<h:commandLink class="me-1" id="inspect-grupo-button" action="#{inspectGrupo.inspect(grupo)}">
									      		<span class="fa fa-search fa-lg" aria-hidden="true"/>
								      		</h:commandLink>
								      	</h:form>
								   	</h:column>
								</h:dataTable>
						  	</div>
						  	<div class="tab-pane fade mt-3" id="expedientes" role="tabpanel" aria-labelledby="expedientes-tab">
								<h:dataTable id="expedientes-table" class="table table-striped" headerClass="text-center" columnClasses="text-center,text-center,text-center,text-center,text-center,text-center" value="#{managing.expedientes}" var="expediente">				   
									<h:column>
								      	<f:facet name = "header">Expediente</f:facet>
								      	<h:outputText value="#{expediente.numExpediente}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Alumno ID</f:facet>
								      	<h:outputText value="#{expediente.alumno.id}"/>
								   	</h:column>	
								   	
								   	<h:column>
								      	<f:facet name = "header">Activo</f:facet>
								      	<h:outputText class="fa fa-check fa-lg" rendered="#{expediente.activo}"/>
								      	<h:outputText class="fa fa-times fa-lg" rendered="#{not expediente.activo}"/>
								   	</h:column>
								   									   	
								   	<h:column>
								      	<f:facet name = "header">Nota media</f:facet>
								      	<h:outputText value="#{expediente.notaMediaProvisional}"/>
								   	</h:column>
								   									   	
								   	<h:column>
								      	<f:facet name = "header">Titulación</f:facet>
								      	<h:outputText value="#{expediente.titulacion.codigo}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Ver expediente</f:facet>
								      	<h:form>
								      		<h:commandLink class="me-1" id="inspect-button">
									      		<span class="fa fa-search fa-lg" aria-hidden="true"/>
								      		</h:commandLink>
								      	</h:form>
								   	</h:column>								   									   
								</h:dataTable>
						  	</div>
						  	<div class="tab-pane fade mt-3" id="alumnos" role="tabpanel" aria-labelledby="alumnos-tab">
								<h:dataTable id="alumnos-table" class="table table-striped" headerClass="text-center" columnClasses="text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center" value="#{managing.alumnos}" var="alumno">				   
									<h:column>
								      	<f:facet name = "header">ID</f:facet>
								      	<h:outputText value="#{alumno.id}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">DNI</f:facet>
								      	<h:outputText value="#{alumno.dni}"/>
								   	</h:column>
								   	
								   	<h:column>    				
								    	<f:facet name = "header">Nombre</f:facet>    				
								      	<h:outputText value="#{alumno.nombreCompleto}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Email inst.</f:facet>
								      	<h:outputText value="#{alumno.emailInstitucional}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Email per.</f:facet>
								      	<h:outputText value="#{alumno.emailPersonal}"/>
								   	</h:column>								   
								   	
								   	<h:column>
								      	<f:facet name = "header">Móvil</f:facet>
								      	<h:outputText value="#{alumno.movil}"/>
								   	</h:column>								   									   
								   	
								   	<h:column>
								      	<f:facet name = "header">Teléfono</f:facet>
								      	<h:outputText value="#{alumno.telefono}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Ver alumno</f:facet>
								      	<h:form>
								      		<h:commandLink class="me-1" id="inspect-button">
									      		<span class="fa fa-search fa-lg" aria-hidden="true"/>
								      		</h:commandLink>
								      	</h:form>
								   	</h:column>	
								</h:dataTable>
						  	</div>
						  	<div class="tab-pane fade mt-3" id="asignaturas" role="tabpanel" aria-labelledby="asignaturas-tab">
						  		<h:dataTable id="asignaturas-table" class="table table-striped" headerClass="text-center" columnClasses="text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center,text-center" value="#{managing.asignaturas}" var="asignatura">				   
									<h:column>
								      	<f:facet name = "header">Ref.</f:facet>
								      	<h:outputText value="#{asignatura.referencia}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Nombre</f:facet>
								      	<h:outputText value="#{asignatura.nombre}"/>
								   	</h:column>
								   	
								   	<h:column>    				
								    	<f:facet name = "header">Código</f:facet>    				
								      	<h:outputText value="#{asignatura.codigo}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Curso</f:facet>
								      	<h:outputText value="#{asignatura.curso}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Créditos</f:facet>
								      	<h:outputText value="#{asignatura.creditos}"/>
								   	</h:column>								   
								   	
								   	<h:column>
								      	<f:facet name = "header">Ofertada</f:facet>
								      	<h:outputText class="fa fa-check fa-lg" rendered="#{asignatura.ofertada}"/>
								      	<h:outputText class="fa fa-times fa-lg" rendered="#{not asignatura.ofertada}"/>
								   	</h:column>								   									   
								   	
								   	<h:column>
								      	<f:facet name = "header">Carácter</f:facet>
								      	<h:outputText value="#{asignatura.caracter}"/>
								   	</h:column>
								   
								  	<h:column>
								      	<f:facet name = "header">Plazas</f:facet>
								      	<h:outputText value="#{asignatura.plazas}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Cuatrimestre</f:facet>
								      	<h:outputText value="#{asignatura.cuatrimestre}"/>
								   	</h:column>								   
								   	
								   	<h:column>
								      	<f:facet name = "header">Idioma</f:facet>
								      	<h:outputText value="#{asignatura.idioma}"/>
								   	</h:column>								   									   
								   	
								   	<h:column>
								      	<f:facet name = "header">Duración</f:facet>
								      	<h:outputText value="#{asignatura.duracion}"/>
								   	</h:column>
								   	
								   	<h:column>
								      	<f:facet name = "header">Ver asignatura</f:facet>
								      	<h:form>
								      		<h:commandLink class="me-1" id="inspect-button">
									      		<span class="fa fa-search fa-lg" aria-hidden="true"/>
								      		</h:commandLink>
								      	</h:form>
								   	</h:column>	
								</h:dataTable>
						  	</div>
						</div>
					</div>
				</div>
				<div class="col p-0"></div>
			</div>
		</div>
		
		<footer class="row m-0 mt-auto">
			<div class="col">
				<p class="text-light m-0 py-2 text-center">2021 &copy; proyectog. Sistemas de la Información para Internet</p>
			</div>
		</footer>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"/>
	</h:body>

</html>